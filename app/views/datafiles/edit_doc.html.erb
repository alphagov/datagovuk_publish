<% content_for :page_title do %>
  Add a link supporting documents -
<% end %>

<div class="datasets">
  <% if @datafile.errors.any? %>
		<div class="error-summary" role="group" aria-labelledby="error-summary-heading-example-1" tabindex="-1">
			<h1 class="heading-medium error-summary-heading" id="error-summary-heading-example-1">
				There was a problem
			</h1>
			<ul class="error-summary-list">
        <% @datafile.errors.each do |attr, message| %>
          <li>
            <a href="#<%= attr.to_s %>_form_group">
              <%= message %>
            </a>
            <span class="visuallyhidden">.</span>
          </li>
				<% end %>
			</ul>
		</div>
  <% end %>
  <h1 class="heading-large">Add a link to supporting documents</h1>

  <%= form_for @datafile, as: :datafile, url: document_path(@dataset, @datafile), method: 'put' do |f| %>
    <%= dataset_field f, @datafile,
    name: 'url',
    label: 'URL',
    input_type: :text_field,
    input_class: 'form-control-2-3',
    hint: 'Enter a link (beginning with http:// or https://) to point directly to your document. The file will usually be uploaded to either your organisation’s website or another website, like GOV.UK or Amazon Web Services (AWS).',
    value: @datafile.url %>

    <%= dataset_field f, @datafile,
    name: 'name',
    label: 'Link name',
    input_type: :text_field,
    input_class: 'form-control-2-3',
    hint: 'The link name mustn’t be the same as the URL. It should clearly describe the document so users can find it easily.',
    value: @datafile.name %>
    <div class="form-group">
      <p><%= f.submit 'Save and continue', class: 'button' %></p>
      <p>
        <%= link_to 'Cancel', dataset_path(@dataset) %>
      </p>
    </div>
  <% end %>
